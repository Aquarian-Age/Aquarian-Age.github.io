<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Bash | 浮生若梦</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="bash">
<meta property="og:type" content="article">
<meta property="og:title" content="Bash">
<meta property="og:url" content="https://aquarian-age.github.io/2021/07/23/bash/index.html">
<meta property="og:site_name" content="浮生若梦">
<meta property="og:description" content="bash">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-07-22T16:00:00.000Z">
<meta property="article:modified_time" content="2022-03-23T00:25:39.919Z">
<meta property="article:author" content="Aquarian-Age">
<meta property="article:tag" content="Bash">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="浮生若梦" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  
<link rel="stylesheet" href="/css/style.css">

  

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://Aquarian-Age.github.io"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="https://aquarian-age.github.io/2018/01/31/about/">关于</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">浮生若梦</a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-bash" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/23/bash/" class="article-date">
  <time datetime="2021-07-22T16:00:00.000Z" itemprop="datePublished">2021-07-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Bash
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>bash</p>
<span id="more"></span>

<h2 id="删除空行"><a href="#删除空行" class="headerlink" title="删除空行"></a>删除空行</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;/^$/d&#x27;</span> *.md</span><br></pre></td></tr></table></figure>

<h2 id="ssh-copy-id-auto"><a href="#ssh-copy-id-auto" class="headerlink" title="ssh_copy_id_auto"></a>ssh_copy_id_auto</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/expect  </span></span><br><span class="line"><span class="built_in">set</span> <span class="built_in">timeout</span> 10  </span><br><span class="line"><span class="built_in">set</span> username [lindex <span class="variable">$argv</span> 0]  </span><br><span class="line"><span class="built_in">set</span> password [lindex <span class="variable">$argv</span> 1]  </span><br><span class="line"><span class="built_in">set</span> hostname [lindex <span class="variable">$argv</span> 2]</span><br><span class="line"></span><br><span class="line">spawn ssh-copy-id -i <span class="variable">$HOME</span>/.ssh/id_rsa.pub <span class="variable">$username</span>@<span class="variable">$hostname</span></span><br><span class="line">expect &#123;</span><br><span class="line">            <span class="comment">#first connect, no public key in ~/.ssh/known_hosts</span></span><br><span class="line">            <span class="string">&quot;Are you sure you want to continue connecting (yes/no)?&quot;</span> &#123;</span><br><span class="line">            send <span class="string">&quot;yes\r&quot;</span></span><br><span class="line">            expect <span class="string">&quot;password:&quot;</span></span><br><span class="line">                send <span class="string">&quot;<span class="variable">$password</span>\r&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">#already has public key in ~/.ssh/known_hosts</span></span><br><span class="line">            <span class="string">&quot;password:&quot;</span> &#123;</span><br><span class="line">                send <span class="string">&quot;<span class="variable">$password</span>\r&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="string">&quot;Now try logging into the machine&quot;</span> &#123;</span><br><span class="line">                <span class="comment">#it has authorized, do nothing!</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">expect eof</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="auto-ssh"><a href="#auto-ssh" class="headerlink" title="auto ssh"></a>auto ssh</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">LANG=zh_CN.UTF-8</span><br><span class="line"><span class="built_in">export</span> LANG</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">ssh_copy_id_auto</span></span>() &#123;</span><br><span class="line">    user=<span class="variable">$name</span></span><br><span class="line">	pass=<span class="variable">$passwd</span></span><br><span class="line">    host=<span class="variable">$host</span></span><br><span class="line">    port=<span class="variable">$port</span></span><br><span class="line">    key=$(<span class="built_in">echo</span> ~/.ssh/id_rsa.pub)</span><br><span class="line">expect &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string">    set timeout 8;</span></span><br><span class="line"><span class="string">    spawn ssh-copy-id -i $key -p $port $user@$host;</span></span><br><span class="line"><span class="string">    expect &#123;</span></span><br><span class="line"><span class="string">        *(yes/no)?* &#123; send yes\r; exp_continue; &#125;</span></span><br><span class="line"><span class="string">        *password:* &#123; send $pass\r; exp_continue; &#125;</span></span><br><span class="line"><span class="string">        eof         &#123; exit 0; &#125;</span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> :</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;目前自动拷贝公钥只支持root用户&quot;</span></span><br><span class="line">	<span class="built_in">echo</span> -n <span class="string">&quot;请选择　1自动拷贝公钥到远程主机; 2SSH链接远程主机&quot;</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot; &quot;</span></span><br><span class="line">	<span class="built_in">read</span> choice</span><br><span class="line">	<span class="keyword">case</span> <span class="variable">$choice</span> <span class="keyword">in</span></span><br><span class="line">		1) <span class="comment">#Copy ID</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;输入远程主机用户名:&quot;</span></span><br><span class="line">			<span class="built_in">read</span> -p <span class="string">&quot;&quot;</span> name</span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;输入远程主机密码&quot;</span></span><br><span class="line">			<span class="built_in">read</span> -p <span class="string">&quot;&quot;</span> passwd</span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;输入远程主机ip地址&quot;</span></span><br><span class="line">			<span class="built_in">read</span> -p <span class="string">&quot;&quot;</span> host</span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;输入远程主机端口&quot;</span></span><br><span class="line">			<span class="built_in">read</span> -p <span class="string">&quot;&quot;</span> port</span><br><span class="line">			</span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;远程主机用户名 <span class="variable">$name</span>&quot;</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;远程主机密码 <span class="variable">$passwd</span>&quot;</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;远程主机ip地址 <span class="variable">$host</span>&quot;</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;远程主机端口 <span class="variable">$port</span>&quot;</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;Now start copy public_key to remote host...&quot;</span></span><br><span class="line">			<span class="built_in">sleep</span> 3</span><br><span class="line">			ssh_copy_id_auto</span><br><span class="line">			<span class="built_in">break</span></span><br><span class="line">			;;</span><br><span class="line"></span><br><span class="line">		2) <span class="comment">#SSH Connect Remote Host</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;输入远程主机用户名&quot;</span></span><br><span class="line">			<span class="built_in">read</span> -p <span class="string">&quot;&quot;</span> name</span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;输入远程主机IP&quot;</span></span><br><span class="line">			<span class="built_in">read</span> -p <span class="string">&quot;&quot;</span> host</span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;输入远程主机端口&quot;</span></span><br><span class="line">			<span class="built_in">read</span> -p <span class="string">&quot;&quot;</span> port</span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;远程主机端口 <span class="variable">$port</span>&quot;</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;开始SSH链接远程主机...&quot;</span></span><br><span class="line">			ssh -p <span class="variable">$port</span> <span class="variable">$name</span>@<span class="variable">$host</span></span><br><span class="line">			<span class="built_in">break</span></span><br><span class="line">			;;</span><br><span class="line">		*) <span class="comment"># error</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;ERROR Try again?&quot;</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;强制结束按Ctrl+C&quot;</span></span><br><span class="line">	<span class="keyword">esac</span>	</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h2 id="cleanRAM"><a href="#cleanRAM" class="headerlink" title="cleanRAM"></a>cleanRAM</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">## Bash Script to clear cached memory on (Ubuntu/Debian) Linux</span></span><br><span class="line"><span class="comment">## By Philipp Klaus</span></span><br><span class="line"><span class="comment">## see &lt;http://blog.philippklaus.de/2011/02/clear-cached-memory-on-uuu/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="subst">$(whoami)</span>&quot;</span> != <span class="string">&quot;root&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;You have to run this script as Superuser!&quot;</span></span><br><span class="line">  <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get Memory Information</span></span><br><span class="line">freemem_before=$(<span class="built_in">cat</span> /proc/meminfo | grep MemFree | <span class="built_in">tr</span> -s <span class="string">&#x27; &#x27;</span> | <span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f2) &amp;&amp; freemem_before=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$freemem_before</span>/1024.0&quot;</span> | bc)</span><br><span class="line">cachedmem_before=$(<span class="built_in">cat</span> /proc/meminfo | grep <span class="string">&quot;^Cached&quot;</span> | <span class="built_in">tr</span> -s <span class="string">&#x27; &#x27;</span> | <span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f2) &amp;&amp; cachedmem_before=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$cachedmem_before</span>/1024.0&quot;</span> | bc)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Output Information</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;This script will clear cached memory and free up your ram.\n\nAt the moment you have <span class="variable">$cachedmem_before</span> MiB cached and <span class="variable">$freemem_before</span> MiB free memory.&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Test sync</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;$?&quot;</span> != <span class="string">&quot;0&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;Something went wrong, It&#x27;s impossible to sync the filesystem.&quot;</span></span><br><span class="line">  <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Clear Filesystem Buffer using &quot;sync&quot; and Clear Caches</span></span><br><span class="line"><span class="built_in">sync</span> &amp;&amp; <span class="built_in">echo</span> 3 &gt; /proc/sys/vm/drop_caches</span><br><span class="line"></span><br><span class="line">freemem_after=$(<span class="built_in">cat</span> /proc/meminfo | grep MemFree | <span class="built_in">tr</span> -s <span class="string">&#x27; &#x27;</span> | <span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f2) &amp;&amp; freemem_after=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$freemem_after</span>/1024.0&quot;</span> | bc)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Output Summary</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;This freed <span class="subst">$(echo <span class="string">&quot;<span class="variable">$freemem_after</span> - <span class="variable">$freemem_before</span>&quot;</span> | bc)</span> MiB, so now you have <span class="variable">$freemem_after</span> MiB of free RAM.&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure>

<h2 id="gbk2utf"><a href="#gbk2utf" class="headerlink" title="gbk2utf"></a>gbk2utf</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">ls</span> * | <span class="keyword">while</span> <span class="built_in">read</span> CMD</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$CMD</span></span><br><span class="line"></span><br><span class="line">iconv -f GBK -t UTF-8 <span class="variable">$CMD</span> -o <span class="variable">$CMD</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h2 id="html2md"><a href="#html2md" class="headerlink" title="html2md"></a>html2md</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">ls</span> * | <span class="keyword">while</span> <span class="built_in">read</span> CMD</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$CMD</span></span><br><span class="line"></span><br><span class="line">iconv -f GBK -t UTF-8 <span class="variable">$CMD</span> -o <span class="variable">$CMD</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h2 id="jpg2pdf"><a href="#jpg2pdf" class="headerlink" title="jpg2pdf"></a>jpg2pdf</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">ls</span> * | <span class="keyword">while</span> <span class="built_in">read</span> line;<span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">$line</span>;convert <span class="variable">$line</span> <span class="variable">$line</span>.pdf;<span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ls</span> -ltr</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;合并pdf&quot;</span></span><br><span class="line"><span class="built_in">sleep</span> 5</span><br><span class="line">pdfunite *.pdf all.pdf</span><br></pre></td></tr></table></figure>

<h2 id="pdf2md"><a href="#pdf2md" class="headerlink" title="pdf2md"></a>pdf2md</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /path/pdf2md</span><br><span class="line"></span><br><span class="line"><span class="built_in">ls</span> *.pdf | <span class="keyword">while</span> <span class="built_in">read</span> CMD</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$CMD</span></span><br><span class="line">pdftohtml <span class="variable">$CMD</span> -i -s -stdout /path/pdf2md/<span class="variable">$CMD</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h2 id="led键盘灯"><a href="#led键盘灯" class="headerlink" title="led键盘灯"></a>led键盘灯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span> = <span class="string">&quot;on&quot;</span> ] ||[ <span class="string">&quot;<span class="variable">$1</span>&quot;</span> = <span class="string">&quot;ON&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		xset led  named <span class="string">&#x27;Scroll Lock&#x27;</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$1</span>&quot;</span> = <span class="string">&quot;off&quot;</span> ] ||[ <span class="string">&quot;<span class="variable">$1</span>&quot;</span> = <span class="string">&quot;OFF&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		xset -led named <span class="string">&#x27;Scroll Lock&#x27;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;Usage: <span class="variable">$0</span> on/off&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure>

<h2 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">DATE=$(<span class="built_in">date</span>)</span><br><span class="line">DISK=$(lsblk | grep ^sdc|awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>) </span><br><span class="line"></span><br><span class="line">SDC1=$(<span class="built_in">cat</span> /proc/mounts | grep sdc1 | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line">SDC2=$(<span class="built_in">cat</span> /proc/mounts | grep sdc2 | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line">SDC3=$(<span class="built_in">cat</span> /proc/mounts | grep sdc3 | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line">SDC4=$(<span class="built_in">cat</span> /proc/mounts | grep sdc4 | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line">SDC5=$(<span class="built_in">cat</span> /proc/mounts | grep sdc5 | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line">SDC6=$(<span class="built_in">cat</span> /proc/mounts | grep sdc6 | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$DISK</span>&quot;</span> == <span class="string">&quot;sdc&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$SDC1</span>&quot;</span> == <span class="string">&quot;/dev/sdc1&quot;</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DATE</span> sdc1 is already mounted&quot;</span> &gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DATE</span> mount sdc1 to /path &quot;</span> &gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line">sudo mount /dev/sdc1 /path/</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$SDC2</span>&quot;</span> == <span class="string">&quot;/dev/sdc2&quot;</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DATE</span> sdc2 is already mounted&quot;</span> &gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DATE</span> mount sdc2 to /path &quot;</span> &gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line">sudo mount /dev/sdc2 /path/</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$SDC3</span>&quot;</span> == <span class="string">&quot;/dev/sdc3&quot;</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DATE</span> sdc3 is already mounted&quot;</span> &gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DATE</span> mount sdc3 to /path &quot;</span> &gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line">sudo mount /dev/sdc3 /path/</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$SDC4</span>&quot;</span> == <span class="string">&quot;/dev/sdc4&quot;</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DATE</span> sdc4 is already mounted&quot;</span> &gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DATE</span> mount sdc4 to /path &quot;</span> &gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line">sudo mount /dev/sdc4 /path/</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$SDC5</span>&quot;</span> == <span class="string">&quot;/dev/sdc5&quot;</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DATE</span> sdc5 is already mounted&quot;</span> &gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DATE</span> mount sdc5 to /path &quot;</span> &gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line">sudo mount /dev/sdc5 /path/</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$SDC6</span>&quot;</span> == <span class="string">&quot;/dev/sdc6&quot;</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DATE</span> sdc6 is already mounted&quot;</span> &gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DATE</span> mount sdc6 to /path &quot;</span> &gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line">sudo mount /dev/sdc6 /path/</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span>:磁盘sdc没发现&quot;</span>&gt;&gt; /path/logs/mount-sdc.log</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Must be run as the root user</span></span><br><span class="line">MUSER=<span class="string">&quot;user&quot;</span> 			<span class="comment"># MySQL user</span></span><br><span class="line">MHOST=<span class="string">&quot;localhost&quot;</span>	<span class="comment"># MySQL server ip</span></span><br><span class="line">MPASS=<span class="string">&quot;xxxx&quot;</span> 			<span class="comment"># MySQL password</span></span><br><span class="line"></span><br><span class="line">NOW=$(<span class="built_in">date</span> +<span class="string">&quot;%d-%m-%Y&quot;</span>)</span><br><span class="line"></span><br><span class="line">BPATH=/path/tftp/mysql/<span class="variable">$NOW</span></span><br><span class="line"></span><br><span class="line">[ ! -d <span class="variable">$BPATH</span> ] &amp;&amp; <span class="built_in">mkdir</span> -p <span class="variable">$BPATH</span></span><br><span class="line"></span><br><span class="line">DBS=<span class="string">&quot;<span class="subst">$(/usr/bin/mysql -u $MUSER -h $MHOST -p$MPASS -Bse &#x27;show databases&#x27;)</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$DBS</span>	<span class="comment">#测试链接是否成功</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> db <span class="keyword">in</span> <span class="variable">$DBS</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	FILE=<span class="string">&quot;<span class="variable">$&#123;BPATH&#125;</span>/<span class="variable">$&#123;db&#125;</span>.gz&quot;</span></span><br><span class="line"></span><br><span class="line">	[ <span class="string">&quot;<span class="variable">$db</span>&quot;</span> == <span class="string">&quot;adserverstats&quot;</span>  ] &amp;&amp; <span class="built_in">continue</span></span><br><span class="line">	[ <span class="string">&quot;<span class="variable">$db</span>&quot;</span> == <span class="string">&quot;mint&quot;</span>  ] &amp;&amp; <span class="built_in">continue</span></span><br><span class="line">    /usr/bin/mysqldump --single-transaction -u <span class="variable">$MUSER</span> -h <span class="variable">$MHOST</span> -p<span class="variable">$MPASS</span> <span class="variable">$db</span> | /bin/gzip -9 &gt; <span class="variable">$FILE</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sleep</span> 2</span><br><span class="line"><span class="built_in">ls</span> -lR /path/mysql</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;数据库已备份到<span class="variable">$BPATH</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="pgSQL"><a href="#pgSQL" class="headerlink" title="pgSQL"></a>pgSQL</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">LANG=zh_CN.UTF-8</span><br><span class="line"><span class="built_in">export</span> LANG</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;备份数据库到/path/pgSQL目录...&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;备份选择1 取消选择 0&quot;</span></span><br><span class="line"></span><br><span class="line">select N <span class="keyword">in</span> 备份 稍后备份</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="keyword">case</span> <span class="variable">$N</span> <span class="keyword">in</span></span><br><span class="line">		备份)</span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span> 备份数据库&quot;</span> &gt;&gt; ~/logs/pqSQL-backup.log 2&gt;&amp;1</span><br><span class="line">			pg_dumpall &gt; /path/pgSQL/$(<span class="built_in">date</span> +%Y-%m-%d) &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span> 备份完毕...&quot;</span> &gt;&gt; ~/logs/pgSQL-backup.log 2&gt;&amp;1</span><br><span class="line">			<span class="built_in">break</span></span><br><span class="line">			;;</span><br><span class="line">		稍后备份)</span><br><span class="line">			<span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span> 稍后备份...&quot;</span></span><br><span class="line">			<span class="built_in">break</span></span><br><span class="line">			;;</span><br><span class="line">	<span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### 备份数据库</span></span><br><span class="line"><span class="comment"># pg_dumpall &gt; /path/pgSQL/$(date +%Y-%m-%d)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ntp"><a href="#ntp" class="headerlink" title="ntp"></a>ntp</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### 时间校对脚本　</span></span><br><span class="line"><span class="comment">### CentOS6.8 + openSUSE15.0 + Ubuntu</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">net_time_SuSE</span></span>() &#123;</span><br><span class="line">	</span><br><span class="line">	zypper <span class="keyword">in</span> -y netdate</span><br><span class="line">	systemctl stop ntpd.service</span><br><span class="line">	<span class="built_in">sleep</span> 3</span><br><span class="line">	ntpdate us.pool.ntp.org &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span> verify donw ...&quot;</span> &gt;&gt; /var/log/ntp-sync.log 2&gt;&amp;1</span><br><span class="line">	systemctl start ntpd.service</span><br><span class="line">	<span class="built_in">date</span> -u</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">net_time_CentOS</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment"># yum install ntp ntpdate -y</span></span><br><span class="line">	/etc/init.d/ntpd stop</span><br><span class="line">	<span class="built_in">sleep</span> 3</span><br><span class="line">	ntpdate us.pool.ntp.org &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span> verify donw ...&quot;</span> &gt;&gt; /var/log/ntp-sync.log 2&gt;&amp;1</span><br><span class="line">	/etc/init.d/ntpd start</span><br><span class="line">	<span class="built_in">date</span> -u</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">net_time_Ubuntu</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">	apt install -y ntpdate ntp</span><br><span class="line">	/etc/init.d/ntp stop</span><br><span class="line">	<span class="built_in">sleep</span> 3</span><br><span class="line">	ntpdate us.pool.ntp.org &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span> verify donw ...&quot;</span> &gt;&gt; /var/log/ntp-sync.log 2&gt;&amp;1</span><br><span class="line">	/etc/init.d/ntp start</span><br><span class="line">	<span class="built_in">date</span> -u</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">os_name=$(lsb_release -si)</span><br><span class="line">os_name1=$(<span class="built_in">cat</span> /etc/redhat-release | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line"><span class="function"><span class="title">net_time_sync</span></span>() &#123;</span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$os_name</span>&quot;</span> = <span class="string">&quot;openSUSE&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;OS is <span class="variable">$os_name</span> <span class="subst">$(date)</span> verify time now...&quot;</span> &gt;&gt; /var/log/ntp-sync.log</span><br><span class="line">		net_time_SuSE</span><br><span class="line">	<span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$os_name1</span>&quot;</span> = <span class="string">&quot;CentOS&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;OS is <span class="variable">$os_name1</span> <span class="subst">$(date)</span> verify time now ...&quot;</span> &gt;&gt; /var/log/ntp-sync.log</span><br><span class="line">		net_time_CentOS</span><br><span class="line">	<span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$os_name</span>&quot;</span> = <span class="string">&quot;Ubuntu&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;OS is <span class="variable">$os_name</span> <span class="subst">$(date)</span> verify time now...&quot;</span> &gt;&gt; /var/log/ntp-sync.log</span><br><span class="line">		net_time_Ubuntu</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">Action</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">&quot;<span class="subst">$(whoami)</span>&quot;</span> = <span class="string">&quot;root&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">		net_time_sync</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;need root&quot;</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Action</span><br></pre></td></tr></table></figure>

<h2 id="proxy"><a href="#proxy" class="headerlink" title="proxy"></a>proxy</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="built_in">export</span> http_proxy=socks5://127.0.0.1:1080</span><br><span class="line"><span class="built_in">export</span> https_proxy=<span class="variable">$http_proxy</span></span><br></pre></td></tr></table></figure>

<h2 id="备份vps"><a href="#备份vps" class="headerlink" title="备份vps"></a>备份vps</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### 备份指定目录　--delete-exclude 必须配合 --exclude=使用才行</span></span><br><span class="line">rsync -avrz --log-file=/path/logs/tengxunyun.log --delete-excluded -e <span class="string">&quot;sshpass -p aaabbbcccdde ssh -p 123456&quot;</span> uuu@1.4.2.3:/uuu/golang/nongli  /path/nfs_share/</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;普通用户身份备份...&quot;</span></span><br><span class="line"></span><br><span class="line">rsync -e <span class="string">&quot;ssh -p 123456&quot;</span> -aptgovrlHAXzP --log-file=/path/logs/rsync_vps_usr.log --delete-excluded --exclude=&#123;<span class="string">&quot;/swap&quot;</span>,<span class="string">&quot;/media/*&quot;</span>,<span class="string">&quot;/sys/*&quot;</span>,<span class="string">&quot;/proc/*&quot;</span>,<span class="string">&quot;/mnt/*&quot;</span>,<span class="string">&quot;/tmp/*&quot;</span>,<span class="string">&quot;/dev/*&quot;</span>,<span class="string">&quot;/other/*&quot;</span>,<span class="string">&quot;/var/run/*&quot;</span>,<span class="string">&quot;/var/tmp/*&quot;</span>&#125; user@2.3.4.5:/ /path/path/data/rsync-vps-backup/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="qt中文输入"><a href="#qt中文输入" class="headerlink" title="qt中文输入"></a>qt中文输入</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;以下命令解决 Qt Creator 4.2.0 (4.2.0)无法输入中文&quot;</span></span><br><span class="line"><span class="built_in">cd</span> /opt/Qt/Tools/QtCreator/lib/Qt/plugins/platforminputcontexts/</span><br><span class="line">sudo <span class="built_in">cp</span> /usr/lib64/qt5/plugins/platforminputcontexts/libfcitxplatforminputcontextplugin.so .</span><br></pre></td></tr></table></figure>

<h2 id="rclone"><a href="#rclone" class="headerlink" title="rclone"></a>rclone</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#为crontab添加的环境变量</span></span><br><span class="line"><span class="comment"># source /etc/profile</span></span><br><span class="line"><span class="comment"># source /path/.profile</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用rclone同步Documents到onedrive...</span></span><br><span class="line"><span class="comment">#参数说明: https://rclone.org/filtering/  https://forum.rclone.org/</span></span><br><span class="line"></span><br><span class="line">/usr/bin/rclone -Luv --log-file=/path/logs/rclone_sync_Documents_to_disk.<span class="built_in">log</span> --delete-excluded <span class="built_in">sync</span> /path/Documents/local-disk:remoteName &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span>:local-disk同步脚本运行完毕...&quot;</span> &gt;&gt; /path/logs/message-rclone.log 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<h2 id="rclone-1"><a href="#rclone-1" class="headerlink" title="rclone"></a>rclone</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># echo &quot;导入代理环境...&quot;</span></span><br><span class="line"><span class="built_in">export</span> https_proxy=socks5://127.0.0.1:1080</span><br><span class="line"><span class="built_in">export</span> http_proxy=socks5://127.0.0.1:1080</span><br><span class="line"></span><br><span class="line"><span class="built_in">sleep</span> 2</span><br><span class="line">sudo mount /dev/sdd6 /path &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;/dev/sdd6挂载到/path&quot;</span> &gt;&gt; /path/logs/message-rclone.log </span><br><span class="line">SDD6=$(<span class="built_in">cat</span> /proc/mounts | grep ^/dev/sdd6 | <span class="built_in">cut</span> -b 1-9)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$SDD6</span>&quot;</span> == <span class="string">&quot;/dev/sdd6&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">rclone -Luv --log-file=/path/logs/rclone_diskName.<span class="built_in">log</span>  --exclude MyLife/_book/** <span class="built_in">sync</span> /path/remoteDisk:  &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span>:diskName同步脚本运行完毕...&quot;</span> &gt;&gt; /path/logs/message-rclone.log 2&gt;&amp;1</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;/dev/sdd6挂载失败&quot;</span> &gt;&gt; /path/logs/message-rclone.log 2&gt;&amp;1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sleep</span> 10</span><br><span class="line">sudo umount /dev/sdd6</span><br></pre></td></tr></table></figure>

<h2 id="rdp"><a href="#rdp" class="headerlink" title="rdp"></a>rdp</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">rdesktop -g 1440x900 -P -z -x l -r sound:off -u userName 192.168.6.104:3389</span><br></pre></td></tr></table></figure>

<h2 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &quot;在文件name-only的每个行后面添加 \n&quot;</span></span><br><span class="line">sed -i <span class="string">&#x27;s/$/&amp;\\n/g&#x27;</span> name-only </span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;在文件test-i的每个行前面面添加 find -inum&quot;</span></span><br><span class="line">sed -i <span class="string">&#x27;s/^/find -inum &amp;/g&#x27;</span> test-i</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在每行的头添加字符，比如&quot;HEAD&quot;</span></span><br><span class="line">sed <span class="string">&#x27;s/^/HEAD&amp;/g&#x27;</span> test.file</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在每行的行尾添加字符，比如“TAIL”</span></span><br><span class="line">sed <span class="string">&#x27;s/$/&amp;TAIL/g&#x27;</span> test.file </span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除空行</span></span><br><span class="line"><span class="comment"># &quot;切换到要转换的目录&quot;</span></span><br><span class="line">sed -i <span class="string">&#x27;/^\s*$/d&#x27;</span></span><br><span class="line"></span><br><span class="line">sed -i <span class="string">&#x27;7s/\/\*//g&#x27;</span> *.go </span><br><span class="line">sed -i <span class="string">&#x27;12s/\*\///g&#x27;</span> *.go </span><br><span class="line"></span><br><span class="line">sed -i <span class="string">&#x27;/^$/d&#x27;</span> *.go</span><br></pre></td></tr></table></figure>

<h2 id="heic2jpeg"><a href="#heic2jpeg" class="headerlink" title="heic2jpeg"></a>heic2jpeg</h2><p><a target="_blank" rel="noopener" href="https://github.com/Aquarian-Age/goheif/releases">heic2jpeg</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> `<span class="built_in">ls</span> *.heic`</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#	echo $&#123;f%.*&#125; #去掉文件后缀名</span></span><br><span class="line"></span><br><span class="line">	heic2jpeg <span class="variable">$f</span> <span class="variable">$&#123;f%.*&#125;</span>.jpeg</span><br><span class="line"><span class="comment">#	mv $f $&#123;f%.*&#125;.jpeg</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h2 id="rsync"><a href="#rsync" class="headerlink" title="rsync"></a>rsync</h2><ul>
<li><p>备份home</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;......删除回收站 清理缓存......&quot;</span></span><br><span class="line">sudo <span class="built_in">rm</span> -rf <span class="variable">$HOME</span>/.local/share/Trash/files/*</span><br><span class="line">/bin/sh /path/bin/clean-cache-dir.sh</span><br><span class="line"><span class="comment"># </span></span><br><span class="line">sudo mount /dev/sdd4 /mnt/sdd4/</span><br><span class="line"><span class="comment">#</span></span><br><span class="line">sudo rsync -avR --delete-excluded /path/mnt/sdd4/ --exclude=&#123;<span class="string">&quot;OSX-KVM/*&quot;</span>,<span class="string">&quot;Downloads/*&quot;</span>,<span class="string">&quot;vmware/&quot;</span>,<span class="string">&quot;VirtualBox\ VMs/*&quot;</span>,<span class="string">&quot;桌面/*&quot;</span>,<span class="string">&quot;.cache/*&quot;</span>,<span class="string">&quot;.nuget/*&quot;</span>,<span class="string">&quot;go_work/pkg/mod/cache/&quot;</span>,<span class="string">&quot;/path/.wine/*&quot;</span>&#125; <span class="comment">#&gt; /dev/null 2&gt;&amp;1 &amp;</span></span><br><span class="line"><span class="comment"># -aptgovrlHAXzP</span></span><br><span class="line"><span class="built_in">sleep</span> 10</span><br><span class="line">sudo umount /dev/sdd4</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>备份 /</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot; &quot;</span> &gt; /path/logs/rsync-system-backup-info.log</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;**********<span class="subst">$(date)</span>开始备份**********&quot;</span> &gt;&gt; /path/logs/rsync-system-backup-info.log 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line"><span class="comment">### -v參數去掉 避免在/var/spool/mail/root中輸出和log file重複信息</span></span><br><span class="line"><span class="comment"># -a 存档模式 等于-rlptgoD(没有-H，-A，-X); </span></span><br><span class="line"><span class="comment"># -X 保留扩展属性;</span></span><br><span class="line"><span class="comment"># -A 保留ACL（暗示--perms）;</span></span><br><span class="line"><span class="comment"># -z 在传输过程中压缩文件数据</span></span><br><span class="line"><span class="comment"># -p 保留权限</span></span><br><span class="line"><span class="comment"># -t 保留修改时间</span></span><br><span class="line"><span class="comment"># -g 保留组</span></span><br><span class="line"><span class="comment"># -o 保留所有者（仅限超级用户）</span></span><br><span class="line"><span class="comment"># -r 递归目录</span></span><br><span class="line"><span class="comment"># -l 将符号链接复制为符号链接</span></span><br><span class="line"><span class="comment"># -H 保留硬链接</span></span><br><span class="line"><span class="comment"># -z 传输过程压缩</span></span><br><span class="line"><span class="comment"># -R 使用相对路径名称(从源目录的起始位置 保留路径 备份到目标目录)</span></span><br><span class="line">sudo mount /dev/sdd5 /mnt/sdd5/</span><br><span class="line">sudo rsync -aptgovrlHAX --delete-excluded --partial --log-file=/path/logs/rsync-system-backup.log / /mnt/sdd5/system-backup/ --exclude=&#123;<span class="string">&quot;/root/.cache/*&quot;</span>,<span class="string">&quot;/usr/src/*&quot;</span>,<span class="string">&quot;/media/*&quot;</span>,<span class="string">&quot;/sys/*&quot;</span>,<span class="string">&quot;/proc/*&quot;</span>,<span class="string">&quot;/mnt/*&quot;</span>,<span class="string">&quot;/tmp/*&quot;</span>,<span class="string">&quot;/run/*&quot;</span>,<span class="string">&quot;/dev/*&quot;</span>,<span class="string">&quot;/*&quot;</span>,<span class="string">&quot;/var/tmp/*&quot;</span>,<span class="string">&quot;/var/run/*&quot;</span>,<span class="string">&quot;/var/log/*&quot;</span>,<span class="string">&quot;/var/adm/*&quot;</span>,<span class="string">&quot;/var/cache/*&quot;</span>,<span class="string">&quot;/usr/share/doc/*&quot;</span>,<span class="string">&quot;root/.npm/_cacache/*&quot;</span>&#125;&amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;**********<span class="subst">$(date)</span>:系统备份完毕**********&quot;</span> &gt;&gt; /path/logs/rsync-system-backup-info.log 2&gt;&amp;1</span><br><span class="line"><span class="built_in">sleep</span> 10</span><br><span class="line">sudo umount /dev/sdd5</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="shell-clock"><a href="#shell-clock" class="headerlink" title="shell clock"></a>shell clock</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### http://www.bkjia.com/xtzh/647316.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">tput civis</span><br><span class="line"><span class="keyword">while</span> [ 1 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">   tput clear</span><br><span class="line">   tput cup 3 10</span><br><span class="line">   tput setb 0</span><br><span class="line">   tput setf 2</span><br><span class="line">   <span class="built_in">echo</span> $(<span class="built_in">date</span> <span class="string">&quot;+%Y--%m--%d %H:%M:%S  %A&quot;</span>)</span><br><span class="line">   <span class="built_in">sleep</span> 1</span><br><span class="line"></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">原文如下：</span><br><span class="line"></span><br><span class="line">    <span class="comment">#!/bin/bash    </span></span><br><span class="line">    tput civis  </span><br><span class="line">    <span class="keyword">while</span> [ 1 ]  </span><br><span class="line">    <span class="keyword">do</span>  </span><br><span class="line">        nonth=$(<span class="built_in">date</span> +%B)  </span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;<span class="variable">$nonth</span>&quot;</span> <span class="keyword">in</span>  </span><br><span class="line">            January)  nonth=1;;  </span><br><span class="line">            February)  nonth=2;;  </span><br><span class="line">            March)  nonth=3;;  </span><br><span class="line">            April)  nonth=4;;  </span><br><span class="line">            May)  nonth=5;;  </span><br><span class="line">            June)  nonth=6;;  </span><br><span class="line">            July)  nonth=7;;  </span><br><span class="line">            August)  nonth=8;;  </span><br><span class="line">            September)  nonth=9;;  </span><br><span class="line">            October)  nonth=10;;  </span><br><span class="line">            November)  nonth=11;;  </span><br><span class="line">            December)  nonth=12;;  </span><br><span class="line">        <span class="keyword">esac</span>  </span><br><span class="line">            tput clear  </span><br><span class="line">            tput cup 3 10  </span><br><span class="line">        <span class="built_in">echo</span> $(<span class="built_in">date</span> +%Y)--<span class="variable">$nonth</span>--$(<span class="built_in">date</span> +%d) $(<span class="built_in">date</span> +%H):$(<span class="built_in">date</span> +%M):$(<span class="built_in">date</span> +%S) $(<span class="built_in">date</span> +%A)  </span><br><span class="line">        <span class="built_in">sleep</span> 1  </span><br><span class="line">           </span><br><span class="line">    <span class="keyword">done</span>  </span><br></pre></td></tr></table></figure>

<h2 id="notifyd"><a href="#notifyd" class="headerlink" title="notifyd"></a>notifyd</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### xfce4的启动通知</span></span><br><span class="line">systemctl --user start xfce4-notifyd</span><br></pre></td></tr></table></figure>

<h2 id="history"><a href="#history" class="headerlink" title="history"></a>history</h2><ul>
<li>更详细的历史记录<br>export HISTTIMEFORMAT=’%Y.%m.%d-%T :: ‘ HISTFILESIZE=90000 HISTSIZE=90000</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">history</span>|<span class="built_in">cut</span> -c 8-|sed <span class="string">&#x27;s/|/\n/g&#x27;</span>|awk <span class="string">&#x27;&#123;if ($1==&quot;sudo&quot;) $1=&quot;&quot;;print $0&#125;&#x27;</span>|awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>|<span class="built_in">sort</span>|<span class="built_in">uniq</span> -c|<span class="built_in">sort</span> -gr|awk <span class="string">&#x27;&#123;if($1&gt;=5) print$0&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;参数适用于记录详细历史命令的设置 如果不是需要修改CMD[\$4]为[\$2]&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">history</span> | awk <span class="string">&#x27;&#123;CMD[$4]++;count++;&#125; END &#123; for (a in CMD )print CMD[ a ]&quot; &quot; CMD[ a ]/count*100 &quot;% &quot; a &#125;&#x27;</span> | grep -v <span class="string">&quot;./&quot;</span> | column -c3 -s <span class="string">&quot; &quot;</span> -t |<span class="built_in">sort</span> -nr | <span class="built_in">nl</span> | <span class="built_in">head</span> -n20 </span><br></pre></td></tr></table></figure>

<h2 id="usbmux"><a href="#usbmux" class="headerlink" title="usbmux"></a>usbmux</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Starting usbmuxd ... &quot;</span></span><br><span class="line">sudo /usr/local/sbin/usbmuxd --user usbmux --systemd &gt;&gt; /path/logs/usbmuxd.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>

<h2 id="bashrc"><a href="#bashrc" class="headerlink" title="bashrc"></a>bashrc</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">### 终端记录器并输出到指定目录</span><br><span class="line"># /usr/bin/script -qa /path/logs/bash-history.log</span><br><span class="line"></span><br><span class="line">#-设定PS1对当前登录用户环境生效</span><br><span class="line"># export PS1=&quot;\w\n\d|\A &gt;&quot;</span><br><span class="line">export PS1=&quot;\w\n\h@\u \# \A &gt;&quot;</span><br><span class="line"></span><br><span class="line"># Plan9</span><br><span class="line"># PLAN9=/usr/local/plan9</span><br><span class="line"># export PLAN9</span><br><span class="line"># PATH=$PATH:$PLAN9/bin</span><br><span class="line"># export PATH</span><br><span class="line"></span><br><span class="line"># GO环境变量（）</span><br><span class="line">export GOROOT=/usr/local/go</span><br><span class="line">export PATH=$GOROOT/bin:$PATH</span><br><span class="line">export GOPATH=$HOME/go_work</span><br><span class="line">export PATH=$GOPATH/bin:$PATH</span><br><span class="line"># export GOPROXY=https://goproxy.io</span><br><span class="line"></span><br><span class="line"># GoLand</span><br><span class="line">export PATH=/usr/local/GoLand/bin:$PATH</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Android Studio</span><br><span class="line">export PATH=/opt/android-studio/bin:$PATH</span><br><span class="line"></span><br><span class="line"># Android SDK</span><br><span class="line"># export ANDROID_HOME=$HOME/Android/Sdk</span><br><span class="line"># export PATH=$PATH:$ANDROID_HOME/tools</span><br><span class="line"># export PATH=$PATH:$ANDROID_HOME/tools/bin</span><br><span class="line"># export PATH=$PATH:$ANDROID_HOME/platform-tools</span><br><span class="line"># export PATH=$PATH:$ANDROID_HOME/emulator</span><br><span class="line"># export PATH=$PATH:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools</span><br><span class="line"></span><br><span class="line">######################gioui apk</span><br><span class="line">export ANDROID_SDK_ROOT=$HOME/Android/Sdk</span><br><span class="line">export PATH=$PATH:$ANDROID_SDK_ROOT/tools</span><br><span class="line">export PATH=$PATH:$ANDROID_SDK_ROOT/tools/bin</span><br><span class="line">export PATH=$PATH:$ANDROID_SDK_ROOT/platform-tools</span><br><span class="line">export PATH=$PATH:$ANDROID_SDK_ROOT/emulator</span><br><span class="line"># export PATH=$PATH:/user/Android/Sdk/ndk/21.3.6528147</span><br><span class="line"># export ANDROID_NDK_HOME=$ANDROID_SDK_ROOT/ndk/21.3.6528147</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export PATH=/path/.local/bin:$PATH</span><br><span class="line"></span><br><span class="line">### dotnet</span><br><span class="line">export DOTNET_ROOT=$HOME/dotnet</span><br><span class="line">export PATH=$PATH:$HOME/dotnet</span><br><span class="line">export PATH=&quot;$PATH:/path/.dotnet/tools&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 查看本机公网IP</span><br><span class="line">alias pubip=&#x27;curl ifconfig.me&#x27;</span><br><span class="line"># 按照大小排序目录（仅限目录）</span><br><span class="line"></span><br><span class="line">alias sortDirBySize=&#x27;du -h --time --max-depth=1 | sort -hr &#x27;</span><br><span class="line"></span><br><span class="line"># 只列出目录</span><br><span class="line">alias listdir=&#x27;find * -type d -maxdepth 0&#x27;</span><br><span class="line"></span><br><span class="line">#找出“当前目录下”最大的5个文件</span><br><span class="line">alias listFilesTop5=&#x27;find . -type f -exec ls -s &#123;&#125; \; | sort -n -r | head -5&#x27;</span><br><span class="line"></span><br><span class="line"># 显示可执行文件</span><br><span class="line">alias showExecutable-files=&#x27;ls -F | grep &#x27;*$&#x27;&#x27;</span><br><span class="line"></span><br><span class="line"># 列出tcp链接</span><br><span class="line">alias listTcpLink=&#x27;sudo lsof -i -n -P | grep TCP&#x27;</span><br><span class="line"></span><br><span class="line">#把当前目录下面的GBK编码转换为UTF-8编码</span><br><span class="line">alias gbk2utf-8=&#x27;convmv -f GBK -t utf8 --notest -r .&#x27;</span><br><span class="line"></span><br><span class="line"># 自定义ls ps cpu</span><br><span class="line">alias l=&#x27;ls -ltr&#x27;</span><br><span class="line">alias pscpu=&#x27;ps -e --sort=-%cpu&#x27;</span><br><span class="line"></span><br><span class="line">#逐行显示环境变量</span><br><span class="line">alias path=&#x27;echo -e $&#123;PATH//:/\\n&#125;&#x27;</span><br><span class="line"></span><br><span class="line"># 删除日志仅保留最近5天的内容</span><br><span class="line">alias journal-rm_5daily=&#x27;sudo journalctl --vacuum-time=5d&#x27;</span><br><span class="line"></span><br><span class="line"># 更详细的历史记录</span><br><span class="line">export HISTTIMEFORMAT=&#x27;%Y.%m.%d-%T :: &#x27; HISTFILESIZE=90000 HISTSIZE=90000</span><br><span class="line"></span><br><span class="line"># unset HISTFILE</span><br><span class="line">alias nongli=&#x27;python3 /path/bin/nongli.py&#x27;</span><br><span class="line"></span><br><span class="line">### dotnet自动补全 https://docs.microsoft.com/zh-cn/dotnet/core/tools/enable-tab-autocomplete</span><br><span class="line">_dotnet_bash_complete()</span><br><span class="line">&#123;</span><br><span class="line">local word=$&#123;COMP_WORDS[COMP_CWORD]&#125;</span><br><span class="line"></span><br><span class="line">local completions</span><br><span class="line">completions=&quot;$(dotnet complete --position &quot;$&#123;COMP_POINT&#125;&quot; &quot;$&#123;COMP_LINE&#125;&quot;)&quot;</span><br><span class="line"></span><br><span class="line">COMPREPLY=( $(compgen -W &quot;$completions&quot; -- &quot;$word&quot;) )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">complete -f -F _dotnet_bash_complete dotnet</span><br><span class="line"></span><br><span class="line">export PATH=&quot;$HOME/.yarn/bin:$HOME/.config/yarn/global/node_modules/.bin:$PATH&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="profile"><a href="#profile" class="headerlink" title="profile"></a>profile</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#自定义交互式shell别名</span></span><br><span class="line"><span class="built_in">alias</span> l=<span class="string">&#x27;ls -ltr&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> ps=<span class="string">&#x27;ps aux&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> pscpu=<span class="string">&#x27;ps -e --sort=-%cpu&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### rust</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$HOME</span>/.cargo/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="comment">###　国内镜像用于更新</span></span><br><span class="line"><span class="comment">### 需要同步配置$HOME/.cargo/config</span></span><br><span class="line"><span class="comment">### https://github.com/RustChina/rust-wiki/blob/master/%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F.page</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># export RUSTUP_DIST_SERVER=https://mirrors.ustc.edu.cn/rust-static</span></span><br><span class="line"><span class="comment"># export RUSTUP_UPDATE_ROOT=https://mirrors.ustc.edu.cn/rust-static/rustup</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### exercism.io</span></span><br><span class="line"><span class="keyword">if</span> [ -f ~/.config/exercism/exercism_completion.bash ]; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">source</span> ~/.config/exercism/exercism_completion.bash</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h2 id="mkswap"><a href="#mkswap" class="headerlink" title="mkswap"></a>mkswap</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Here, 1M * 2000 ~= 2GB of swap memory</span></span><br><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=swapfile bs=1M count=2000</span><br><span class="line">mkswap swapfile</span><br><span class="line">swapon swapfile</span><br><span class="line"><span class="built_in">chmod</span> 600 swapfile</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;/var/_swap_/swapfile none swap sw 0 0&quot;</span> &gt;&gt; /etc/fstab</span><br><span class="line"><span class="comment">#cat /proc/meminfo</span></span><br><span class="line">free -m</span><br></pre></td></tr></table></figure>

<h2 id="python开启网络服务"><a href="#python开启网络服务" class="headerlink" title="python开启网络服务"></a>python开启网络服务</h2><p><a target="_blank" rel="noopener" href="https://docs.python.org/2/library/simplehttpserver.html">simplehttpserver</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2.x</span></span><br><span class="line">python -m SimpleHTTPServer 8000</span><br><span class="line"></span><br><span class="line"><span class="comment">### 3.x</span></span><br><span class="line">python -m http.server 8000</span><br></pre></td></tr></table></figure>

<h2 id="自动登录telnet并执行命令"><a href="#自动登录telnet并执行命令" class="headerlink" title="自动登录telnet并执行命令"></a>自动登录telnet并执行命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/expect --</span></span><br><span class="line"><span class="built_in">set</span> SERVER <span class="string">&quot;192.168.1.100&quot;</span></span><br><span class="line"><span class="built_in">set</span> USER <span class="string">&quot;root&quot;</span></span><br><span class="line"><span class="built_in">set</span> PASSWD <span class="string">&quot;passwd&quot;</span></span><br><span class="line"><span class="keyword">if</span> &#123; <span class="variable">$argc</span> &#125; &#123;</span><br><span class="line">spawn telnet <span class="variable">$SERVER</span>.<span class="variable">$argv</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">spawn telnet <span class="variable">$SERVER</span></span><br><span class="line">&#125;</span><br><span class="line">expect <span class="string">&quot;login:&quot;</span></span><br><span class="line">send <span class="string">&quot;<span class="variable">$USER</span>\n&quot;</span></span><br><span class="line">expect <span class="string">&quot;Password:&quot;</span></span><br><span class="line">send <span class="string">&quot;<span class="variable">$PASSWD</span>\n&quot;</span></span><br><span class="line">expect <span class="string">&quot;#&quot;</span></span><br><span class="line">send <span class="string">&quot;ls -ltr\n&quot;</span></span><br><span class="line">interact</span><br></pre></td></tr></table></figure>

<h2 id="浏览器使用代理上网"><a href="#浏览器使用代理上网" class="headerlink" title="浏览器使用代理上网"></a>浏览器使用代理上网</h2><ul>
<li>适用Linux系统</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.chromium.org/developers/design-documents/network-stack/socks-proxy">chromium.org-socks-proxy</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt/google/chrome/</span><br><span class="line">./google-chrome --proxy-server=<span class="string">&quot;socks5://127.0.0.1:1080&quot;</span> --host-resolver-rules=<span class="string">&quot;MAP* ~NOTFOUND , EXCLUDE 127.0.0.1&quot;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://aquarian-age.github.io/2021/07/23/bash/" data-id="claelm5vz000gx8m1d2qy1f6w" class="article-share-link">分享</a>
      
      
        <a href="https://aquarian-age.github.io/2021/07/23/bash/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Bash/" rel="tag">Bash</a></li></ul>

    </footer>
  </div>
  
    
 
<script src="/jquery/jquery.min.js"></script>

  <div id="random_posts">
    <h2>推荐文章</h2>
    <div class="random_posts_ul">
      <script>
          var random_count =4
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2021/07/27/%E6%B5%AE%E7%94%9F%E8%8B%A5%E6%A2%A6/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          浮生若梦
        
      </div>
    </a>
  
  
    <a href="/2021/07/21/%E4%B8%83%E5%85%83%E7%A6%BD%E6%98%9F%E8%A1%A8/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">七元禽星</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
    <section id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
      </section>
      
       
       
      
      
  </div>
 
  

</section>
           
    <aside id="sidebar">
  
    

  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">文章目录</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%A9%BA%E8%A1%8C"><span class="toc-number">1.</span> <span class="toc-text">删除空行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ssh-copy-id-auto"><span class="toc-number">2.</span> <span class="toc-text">ssh_copy_id_auto</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#auto-ssh"><span class="toc-number">3.</span> <span class="toc-text">auto ssh</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cleanRAM"><span class="toc-number">4.</span> <span class="toc-text">cleanRAM</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gbk2utf"><span class="toc-number">5.</span> <span class="toc-text">gbk2utf</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#html2md"><span class="toc-number">6.</span> <span class="toc-text">html2md</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jpg2pdf"><span class="toc-number">7.</span> <span class="toc-text">jpg2pdf</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pdf2md"><span class="toc-number">8.</span> <span class="toc-text">pdf2md</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#led%E9%94%AE%E7%9B%98%E7%81%AF"><span class="toc-number">9.</span> <span class="toc-text">led键盘灯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD"><span class="toc-number">10.</span> <span class="toc-text">备份</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mysql"><span class="toc-number">11.</span> <span class="toc-text">mysql</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pgSQL"><span class="toc-number">12.</span> <span class="toc-text">pgSQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ntp"><span class="toc-number">13.</span> <span class="toc-text">ntp</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#proxy"><span class="toc-number">14.</span> <span class="toc-text">proxy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%87%E4%BB%BDvps"><span class="toc-number">15.</span> <span class="toc-text">备份vps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#qt%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5"><span class="toc-number">16.</span> <span class="toc-text">qt中文输入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rclone"><span class="toc-number">17.</span> <span class="toc-text">rclone</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rclone-1"><span class="toc-number">18.</span> <span class="toc-text">rclone</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rdp"><span class="toc-number">19.</span> <span class="toc-text">rdp</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sed"><span class="toc-number">20.</span> <span class="toc-text">sed</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#heic2jpeg"><span class="toc-number">21.</span> <span class="toc-text">heic2jpeg</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rsync"><span class="toc-number">22.</span> <span class="toc-text">rsync</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell-clock"><span class="toc-number">23.</span> <span class="toc-text">shell clock</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#notifyd"><span class="toc-number">24.</span> <span class="toc-text">notifyd</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#history"><span class="toc-number">25.</span> <span class="toc-text">history</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#usbmux"><span class="toc-number">26.</span> <span class="toc-text">usbmux</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bashrc"><span class="toc-number">27.</span> <span class="toc-text">bashrc</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#profile"><span class="toc-number">28.</span> <span class="toc-text">profile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mkswap"><span class="toc-number">29.</span> <span class="toc-text">mkswap</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#python%E5%BC%80%E5%90%AF%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1"><span class="toc-number">30.</span> <span class="toc-text">python开启网络服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E7%99%BB%E5%BD%95telnet%E5%B9%B6%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4"><span class="toc-number">31.</span> <span class="toc-text">自动登录telnet并执行命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86%E4%B8%8A%E7%BD%91"><span class="toc-number">32.</span> <span class="toc-text">浏览器使用代理上网</span></a></li></ol>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    

  
    
  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2023 Aquarian-Age&nbsp;|&nbsp;
      主题 <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;liangzi@yandex.com
    </div>
  </div>
</footer>
 
<script src="/jquery/jquery.min.js"></script>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="https://aquarian-age.github.io/2018/01/31/about/" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
      

<script>
  var disqus_shortname = 'Aquarian-Age';
  
  var disqus_url = 'https://aquarian-age.github.io/2021/07/23/bash/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid end -->



 
<script src="/js/is.js"></script>



  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/elevator.js"></script>

  </div>
</body>
</html>
